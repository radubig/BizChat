<div style="height: 100%; display: grid; grid-template-rows: 4% 96%; grid-template-columns: 20% 60% 20%">
	<div class="border" style="grid-row: 1/1; grid-column: 1/2; display: flex">
		<div class="dropdown" style="width: 100%; height: 100%">
			<button id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width: 100%; height: 100%">
				<span class="bi bi-gear" style="padding-left: 5px"></span> Server Settings
			</button>
			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
				<a class="dropdown-item" href="/Servers/NewCategory/@ViewBag.ServerId">Add Category</a>
				<form method="post" action="/Servers/DeleteServer/@ViewBag.ServerId">
				<button class="dropdown-item" type="submit"> <div class="text-danger">Delete Server </div></button> <!-- TBA -->
				</form>
			</div>
		</div>
	</div>


	<div class="border" style="grid-row: 1/1; grid-column: 2; text-align: left; display: flex; gap: 1em">
	@if (ViewBag.selectedChannel != null)
	{
		<span style="padding-left: 5px"> <span class="fa-solid fa-hashtag"></span> <b>@ViewBag.selectedChannel.Name</b></span>
		<span>@ViewBag.selectedChannel.Description</span>
		<div><span class="fa-regular fa-pen-to-square"></span></div>
	}
	</div>


	<div class="border" style="grid-row: 1/1; grid-column: 3/3; text-align: center; display: flex; justify-content: center; align-items: center">
		<p class="m-0"> <span class="fa-solid fa-magnifying-glass"></span> Search </p>
	</div>


	<div class="border p-1" style="grid-row: 2/2; grid-column: 1; display: flex; flex-direction: column; text-align: left;">
		@foreach (BizChat.Models.Category category in ViewBag.Categories)
		{
			<div class="category">
				<span>@category.CategoryName</span>
				<div class="category-buttons">
					<span class="fa-regular fa-pen-to-square"></span>
					<a asp-controller="Servers" asp-action="NewChannel" asp-route-categoryId="@category.Id">
						<span class="fa-solid fa-plus"></span>
					</a>
				</div>
			</div>
			@foreach (BizChat.Models.Channel channel in ViewBag.Channels) if(channel.CategoryId == category.Id)
			{
				@if (ViewBag.selectedChannel != null && ViewBag.selectedChannel.Id == channel.Id)
				{
					<a href="/Servers/Index/@ViewBag.ServerId/@channel.Id" style="text-decoration: inherit; color: inherit;">
					<div class="channel" style="background-color: lightgreen;"> <span class="fa-solid fa-hashtag"></span> @channel.Name </div>
					</a>
				}
				else
				{
					<a href="/Servers/Index/@ViewBag.ServerId/@channel.Id" style="text-decoration: inherit; color: inherit;">
					<div class="channel"> <span class="fa-solid fa-hashtag"></span> @channel.Name </div>
					</a>
				}
			}
		}
	</div>
	<div class="border" style="grid-row: 2/2; grid-column: 2/2; display: grid; grid-template-rows: 85% 15%">
		<div id="chatBox" class="border" style="grid-row: 1/1; display: flex; flex-direction:column; text-align: center; justify-content: center; align-items: center">
		</div>
		<div class="border" style="grid-row: 2/2; display: flex; justify-content: center; align-items: center; text-align: center">
			<input type="text" id="username" placeholder="Enter your username" />
			<input type="text" id="message" placeholder="Enter your message" />
			<button id="sendButton">Send</button>
			<script src="~/js/chatConnection.js"></script>
		</div>
	</div>
	<div style="grid-row: 2/2; grid-column: 3/3; display:flex; flex-direction: column">
		@foreach (var user in ViewBag.ServerMembers)
		{
			<!-- Aici va trebui sa diferentiam utilizatorii cu roluri de server diferite-->
			<div> @user.UserName </div>
		}
	</div>
</div>